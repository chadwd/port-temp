---
phase: 12-ui-ux-refinements
plan: 1
type: execute
---

<objective>
Polish header and navigation components for improved usability, accessibility, and visual refinement.

Purpose: Enhance the foundation of the site's navigation system with better spacing, touch targets, and keyboard accessibility before expanding content in subsequent phases.
Output: Refined Header component with improved spacing, focus states, and mobile-friendly touch targets.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Current implementation:**
@src/components/Header.astro
@src/styles/global.css

**Codebase constraints:**
- Maintain Lighthouse 100/100 scores across all metrics
- WCAG AA compliance required
- No utility classes - semantic CSS only
- System fonts only (no external font loading)
- Minimal JavaScript - CSS-first approach

**Prior decisions affecting this phase:**
- Phase 2: Warm color palette with slate blue accent (#334155)
- Phase 2: System fonts for performance
- Phase 10: View Transitions API for page navigation
- Phase 10: Reduced motion support via prefers-reduced-motion

**Design philosophy:**
- Calm, confident, minimal aesthetic
- Editorial feel with generous whitespace
- Content-first approach - design serves content
</context>

<tasks>

<task type="auto">
  <name>Task 1: Improve navbar spacing and layout</name>
  <files>src/components/Header.astro, src/styles/global.css</files>
  <action>
Enhance header spacing and layout for better visual hierarchy and breathing room:

1. **Header.astro changes:**
   - Increase vertical padding: Change `padding-block: var(--space-4)` to `var(--space-6)` for desktop
   - Add subtle background blur for sticky header: `backdrop-filter: blur(8px)` with `background-color: rgba(var(--color-bg-rgb), 0.95)` (requires adding RGB values to global.css)
   - Improve mobile breakpoint: Change from 480px to 640px for better tablet experience
   - Increase gap between nav items: Change `gap: var(--space-6)` to `var(--space-8)` for desktop

2. **global.css additions (if needed):**
   - Add `--color-bg-rgb` variable (extract RGB values from existing --color-bg for alpha transparency)
   - Ensure transition variables exist for smooth interactions

3. **What to avoid:**
   - Don't add hamburger menu (keep simple stacked layout for mobile as per Phase 3 decision)
   - Don't change font sizes or weights (maintain existing hierarchy)
   - Don't add borders or dividers (minimal aesthetic)

**Why:** Current spacing feels cramped on desktop and the sticky header lacks visual polish. The blur effect adds subtle depth without breaking the minimal aesthetic. The 640px breakpoint better accommodates tablet devices.
  </action>
  <verify>
npm run build succeeds without errors
npm run astro check passes
Visual inspection: Header has more breathing room, sticky header has subtle blur effect
  </verify>
  <done>
Header vertical padding increased to --space-6 on desktop
Sticky header has backdrop-filter blur with rgba background
Mobile breakpoint updated to 640px
Nav item gap increased to --space-8 on desktop
Build passes, no TypeScript errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance focus states for keyboard navigation</name>
  <files>src/components/Header.astro, src/styles/global.css</files>
  <action>
Add visible, accessible focus indicators for all interactive elements:

1. **Header.astro focus styles:**
   - Add focus-visible styles to `.site-name`: `outline: 2px solid var(--color-accent)`, `outline-offset: 4px`, `border-radius: 4px`
   - Add focus-visible styles to `.nav-link`: Same as above for consistency
   - Ensure focus is visible but not obtrusive on mouse click (use `:focus-visible` not `:focus`)

2. **global.css universal focus:**
   - Add global `:focus-visible` rule for all interactive elements: `outline: 2px solid var(--color-accent)`, `outline-offset: 2px`
   - Add `:focus:not(:focus-visible)` rule to remove outline for mouse users
   - Ensure skip-to-content link exists (add if missing): visually hidden by default, visible on focus

3. **Skip-to-content link (if not present):**
   - Add skip link before header in BaseLayout.astro: `<a href="#main-content" class="skip-link">Skip to main content</a>`
   - Style `.skip-link`: positioned absolutely, `transform: translateY(-100%)` by default, `transform: translateY(0)` on focus
   - Add `id="main-content"` to main content area in BaseLayout.astro

4. **What to avoid:**
   - Don't remove focus outlines entirely (accessibility violation)
   - Don't use blue outline (conflicts with design - use accent color)
   - Don't apply to non-interactive elements (clutters interface)

**Why:** Current implementation lacks visible focus indicators for keyboard navigation, making it difficult for keyboard users to navigate. WCAG 2.4.7 (Focus Visible) requires visible focus indicators. Skip link provides quick navigation for screen reader and keyboard users.
  </action>
  <verify>
npm run build succeeds
Tab through navigation with keyboard - focus outline visible on all links
Skip-to-content link appears when tabbing from URL bar
Focus not visible on mouse click (focus-visible working correctly)
  </verify>
  <done>
All header links have visible focus-visible outlines (2px accent color, 4px offset)
Global focus-visible style added to global.css
Skip-to-content link implemented and keyboard accessible
Focus only visible for keyboard navigation, not mouse clicks
No TypeScript errors, build succeeds
  </done>
</task>

<task type="auto">
  <name>Task 3: Refine header touch targets for mobile</name>
  <files>src/components/Header.astro</files>
  <action>
Ensure all clickable elements meet minimum touch target size (44×44px) per WCAG 2.5.5:

1. **Site name touch target:**
   - Add padding to `.site-name` to reach 44px height: `padding: var(--space-2) var(--space-3)`
   - Adjust margin if needed to maintain visual spacing

2. **Nav link touch targets:**
   - Add padding to `.nav-link` to reach 44px height: `padding: var(--space-2) var(--space-3)`
   - For mobile stacked layout, ensure full-width clickable area
   - Add `display: inline-block` to nav-link to respect padding

3. **Mobile-specific enhancements (max-width: 640px):**
   - Increase nav-list gap to `var(--space-5)` for easier thumb tapping
   - Consider full-width nav links on mobile for larger touch targets

4. **What to avoid:**
   - Don't make buttons or background fills (maintain text-link aesthetic)
   - Don't add borders or heavy visual treatment (keep minimal)
   - Don't break the visual hierarchy or alignment

**Why:** Current nav links have insufficient touch targets for mobile users (especially stacked mobile nav). WCAG 2.5.5 Level AAA requires 44×44px minimum target size. Larger touch targets reduce mis-taps and improve mobile UX.
  </action>
  <verify>
npm run build succeeds
Measure touch targets in browser DevTools: all clickable elements ≥44px height
Test on mobile viewport (375px): nav links easy to tap, no mis-taps
Visual consistency maintained with minimal aesthetic
  </verify>
  <done>
Site name has padding for 44px+ touch target
Nav links have padding for 44px+ touch target
Mobile nav gap increased to --space-5
All interactive elements meet WCAG 2.5.5 criteria (44×44px minimum)
Visual aesthetic maintained (no buttons or heavy borders)
Build passes, no errors
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run astro check` passes TypeScript validation
- [ ] Header has improved spacing (visual inspection in dev mode)
- [ ] Focus indicators visible when navigating with Tab key
- [ ] Skip-to-content link functional and visible on focus
- [ ] All touch targets measure ≥44px in height (browser DevTools)
- [ ] Lighthouse accessibility score remains 100/100
- [ ] No visual regressions (sticky header still works, responsive layout intact)
</verification>

<success_criteria>
- All tasks completed
- Header spacing increased (more breathing room on desktop)
- Sticky header has subtle backdrop blur effect
- All interactive elements have visible focus-visible outlines
- Skip-to-content link implemented for keyboard users
- All touch targets meet 44×44px minimum size
- WCAG AA compliance maintained
- Lighthouse 100/100 scores maintained
- No TypeScript errors or build failures
- Visual aesthetic remains calm and minimal
</success_criteria>

<output>
After completion, create `.planning/phases/12-ui-ux-refinements/12-01-SUMMARY.md`:

# Phase 12 Plan 1: Header & Navigation Polish Summary

**Refined header component with improved spacing, keyboard accessibility, and mobile touch targets**

## Accomplishments

- Enhanced header spacing with increased vertical padding and nav item gaps
- Added subtle backdrop blur to sticky header for visual polish
- Implemented visible focus indicators for keyboard navigation (WCAG 2.4.7)
- Added skip-to-content link for assistive technology users
- Expanded touch targets to meet 44×44px minimum (WCAG 2.5.5)
- Improved mobile breakpoint from 480px to 640px for better tablet experience

## Files Created/Modified

- `src/components/Header.astro` - Spacing, focus states, touch targets
- `src/styles/global.css` - Focus-visible styles, RGB color variables
- `src/layouts/BaseLayout.astro` - Skip-to-content link (if added)

## Decisions Made

- Used 640px breakpoint instead of 480px for better tablet support
- Implemented `:focus-visible` instead of `:focus` to avoid mouse-click outlines
- Added backdrop-filter blur to sticky header for subtle depth
- Maintained text-link aesthetic (no button backgrounds) for minimal feel

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 12-02-PLAN.md (Layout & Spacing)
</output>
