---
phase: 15-metadata-schema-design
plan: 02
type: execute
---

<objective>
Create Profile Updater Agent for ingesting source documents and maintaining profile.yaml quality.

Purpose: When new career materials come in (performance reviews, project summaries), this agent extracts XYZ accomplishments, proposes YAML updates for human approval, and self-validates for completeness.

Output: Claude Code skill at `.claude/skills/profile-updater.md` with source ingestion, XYZ extraction, and validation capabilities.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-metadata-schema-design/15-CONTEXT.md
@.planning/phases/15-metadata-schema-design/15-01-SUMMARY.md

**Existing infrastructure (from 15.01):**
@src/data/schema.ts
@src/data/index.ts
@src/data/profile.yaml

**Source materials for testing:**
- `src/data/sources/2025-self-review.md` - Performance review
- `src/data/sources/2025-focused-atlassian-impact.md` - Impact documentation
- `src/data/sources/resume.md` - Current resume content

**Prior decisions affecting this phase:**
- YAML over JSON for profile data (more readable for content)
- XYZ format: "Accomplished [X] as measured by [Y], by doing [Z]"
- Schema validation via Zod at build time
- Human-in-the-loop required for all profile changes
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Profile Updater Skill</name>
  <files>.claude/skills/profile-updater.md</files>
  <action>
Create a Claude Code skill that:

**1. Source Ingestion Mode**
- Accepts path to source document (performance review, project summary, etc.)
- Reads and parses the document
- Extracts potential accomplishments in XYZ format

**2. XYZ Extraction Rules**
Apply these criteria for quality extraction:

- **X (Accomplished)**: Must start with action verb (Reduced, Increased, Delivered, Led, Built, Established). NOT "Responsible for..." - focus on outcome, not duty.
- **Y (Measured by)**: Must include quantifiable metrics or clear outcomes (%, $, time reduction, before/after comparisons). Flag if vague.
- **Z (By doing)**: Must describe specific method/approach with tools, frameworks, or processes named. NOT "by working hard" or "through collaboration."

**3. Anti-Pattern Detection**
Flag these issues in extracted statements:
- "Responsible for..." (duty, not accomplishment)
- Missing or vague metrics in measured_by
- Vague methods ("by working hard", "through collaboration")
- Passive voice
- Unsubstantiated claims
- Missing any of the three XYZ components

**4. Schema Validation**
After extraction, validate proposed additions against profile schema:
- Check for nulls (not allowed)
- Verify all required fields present
- Confirm types match schema expectations

**5. Output Format**
Present proposed changes in clear format:

```markdown
## Profile Update Proposal

### Source: [filename]

### Proposed Additions

**Experience: [Company Name]**

Category: [category key]

1. Accomplishment:
   - accomplished: "[X]"
   - measured_by: "[Y]"
   - by_doing: "[Z]"
   - Quality: [Strong/Needs Review]
   - Issues: [if any]

### Validation Summary
- Total extracted: [N]
- Strong statements: [N]
- Needs review: [N]
- Gaps flagged: [list]

### Next Steps
[Instructions for user to approve/edit/reject]
```

**6. Human-in-Loop Requirement**
CRITICAL: Skill PROPOSES changes only. Never auto-edit profile.yaml.
Output should be copy-paste ready YAML for user to manually add after review.

**Skill structure:**
- Use `<purpose>` to describe the agent's role
- Use `<process>` with clear steps
- Include `<examples>` showing good vs weak XYZ statements
- Reference `@src/data/schema.ts` for validation
- Reference `@src/data/profile.yaml` for current data structure
  </action>
  <verify>File exists at .claude/skills/profile-updater.md with complete skill structure</verify>
  <done>Skill file created with source ingestion, XYZ extraction, validation, and proposal output capabilities</done>
</task>

<task type="auto">
  <name>Task 2: Test skill with existing source document</name>
  <files>None (testing existing infrastructure)</files>
  <action>
Invoke the newly created skill on `src/data/sources/2025-self-review.md`:

1. Run the skill with the source document path
2. Verify it correctly:
   - Reads the source document
   - Extracts accomplishments in XYZ format
   - Flags weak statements or missing metrics
   - Validates against schema
   - Produces copy-paste ready YAML proposal

3. Check extraction quality:
   - Are the X statements action-oriented (not duty-focused)?
   - Do Y statements have quantifiable metrics?
   - Do Z statements describe specific methods?

4. Verify gap detection:
   - Does it flag statements missing metrics?
   - Does it identify vague language?
   - Does it catch schema violations?

Document any issues found in the skill for refinement.
  </action>
  <verify>Skill runs without errors, produces structured output with XYZ extractions and validation summary</verify>
  <done>Skill tested on real source document, extraction and validation working correctly</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Profile Updater Agent skill with source ingestion, XYZ extraction, and validation</what-built>
  <how-to-verify>
    1. Review `.claude/skills/profile-updater.md` structure
    2. Check extraction output from test run:
       - Are XYZ statements properly structured?
       - Are weak statements flagged correctly?
       - Is the output copy-paste ready?
    3. Confirm human-in-the-loop:
       - Skill proposes but doesn't edit
       - Output is a proposal for review, not auto-applied changes
    4. Verify schema validation:
       - Proposed additions would pass Zod validation
       - No nulls in required fields
  </how-to-verify>
  <resume-signal>Type "approved" to complete phase, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Skill file exists at `.claude/skills/profile-updater.md`
- [ ] Skill includes source ingestion capability
- [ ] Skill includes XYZ extraction with quality rules
- [ ] Skill includes schema validation
- [ ] Skill produces proposal output (not auto-edits)
- [ ] Test run on real source document succeeded
- [ ] Human verified workflow is correct
</verification>

<success_criteria>

- Profile Updater Agent skill created and functional
- XYZ extraction accurately identifies accomplishments from source documents
- Weak statements and gaps are flagged with actionable feedback
- Schema validation catches nulls and type mismatches
- Human remains in control - all changes are proposals for approval
- Tested with real source document (2025-self-review.md)
</success_criteria>

<output>
After completion, create `.planning/phases/15-metadata-schema-design/15-02-SUMMARY.md`:

# Phase 15.02: Profile Updater Agent Summary

**[Substantive one-liner about what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `.claude/skills/profile-updater.md` - Profile Updater Agent skill

## Decisions Made

[Key decisions and rationale]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Steps

Phase 15.02 complete. Ready for:
- Phase 15.03: Job Matcher Agent (extract relevant accomplishments for job applications)
- Or use the skill to process additional source documents
</output>
