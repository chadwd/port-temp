---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Set up Astro project with proper structure for a content-first portfolio site.

Purpose: Establish the foundation that all subsequent phases build on - working dev server, correct structure, GitHub Pages compatible output.
Output: Working Astro project with directory structure, TypeScript config, and static output ready for GitHub Pages.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior decisions affecting this phase:**
- Astro framework (fast, markdown-first, minimal JS)
- GitHub Pages hosting (requires static output)
- Markdown + frontmatter for content

**Technical constraints:**
- Must output static HTML (no SSR)
- Must work with GitHub Pages (base path configuration)
- Must support markdown content collections
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Astro project</name>
  <files>package.json, astro.config.mjs, tsconfig.json, src/pages/index.astro</files>
  <action>
    Initialize Astro project with:
    1. Run `npm create astro@latest . -- --template minimal --install --no-git --typescript strict`
    2. The minimal template provides clean slate without starter content
    3. Install @astrojs/sitemap for SEO: `npm install @astrojs/sitemap`

    Do NOT use the blog template - we're building custom content collections.
  </action>
  <verify>
    - package.json exists with astro dependency
    - npm run dev starts server on localhost:4321
    - No errors in terminal
  </verify>
  <done>Astro project initialized with TypeScript, dev server runs without errors</done>
</task>

<task type="auto">
  <name>Task 2: Set up directory structure</name>
  <files>
    src/layouts/BaseLayout.astro,
    src/components/.gitkeep,
    src/content/config.ts,
    src/content/case-studies/.gitkeep,
    src/content/writing/.gitkeep,
    src/styles/global.css,
    public/.gitkeep
  </files>
  <action>
    Create directory structure for portfolio site:

    ```
    src/
      components/       # Reusable UI components
      content/          # Markdown content collections
        case-studies/   # Case study markdown files
        writing/        # Blog/essay markdown files
        config.ts       # Content collection schema definitions
      layouts/          # Page layouts
        BaseLayout.astro  # Base HTML structure
      pages/            # Route pages
        index.astro     # Home (already exists from init)
      styles/           # CSS files
        global.css      # Global styles (reset, variables)
    public/             # Static assets (images, fonts)
    ```

    Create BaseLayout.astro with:
    - HTML5 doctype with lang="en"
    - Meta viewport, charset
    - Slot for page content
    - Link to global.css

    Create content/config.ts with placeholder collection definitions:
    - caseStudies collection (will flesh out in Phase 4)
    - writing collection (will flesh out in Phase 5)

    Create minimal global.css with:
    - CSS reset (box-sizing, margin removal)
    - Placeholder CSS custom properties for colors (Phase 2 will define)
  </action>
  <verify>
    - All directories exist
    - BaseLayout.astro renders without errors
    - Dev server still runs
  </verify>
  <done>Directory structure created, BaseLayout functional, content config in place</done>
</task>

<task type="auto">
  <name>Task 3: Configure for GitHub Pages</name>
  <files>astro.config.mjs, .github/workflows/deploy.yml</files>
  <action>
    Configure Astro for GitHub Pages deployment:

    1. Update astro.config.mjs:
       - Add site: 'https://[username].github.io' (placeholder - user will update)
       - Add output: 'static' (explicit)
       - Add @astrojs/sitemap integration
       - Add build.assets: '_astro' (default, but explicit)

    2. Create .github/workflows/deploy.yml:
       - Trigger on push to main
       - Use actions/checkout@v4
       - Use withastro/action@v3 for build
       - Deploy to GitHub Pages with actions/deploy-pages@v4
       - Add concurrency group for safe deploys

    Note: Actual deployment tested in Phase 6. This sets up the config.
  </action>
  <verify>
    - astro.config.mjs has site and output configured
    - .github/workflows/deploy.yml exists with correct structure
    - npm run build succeeds and creates dist/ folder
  </verify>
  <done>GitHub Pages configuration ready, build succeeds, workflow file in place</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run dev` starts server without errors
- [ ] `npm run build` creates dist/ folder with static HTML
- [ ] Directory structure matches specification
- [ ] BaseLayout.astro renders correctly
- [ ] No TypeScript errors (`npm run astro check`)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Dev server runs at localhost:4321
- Build produces static output in dist/
- Ready for Phase 2 (Design System)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Foundation Summary

**[Substantive one-liner about what was built]**

## Accomplishments
- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified
- `path/to/file` - Description

## Decisions Made
[Key decisions and rationale, or "None"]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Phase complete, ready for Phase 2: Design System
</output>
