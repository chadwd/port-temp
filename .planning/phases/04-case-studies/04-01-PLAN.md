---
phase: 04-case-studies
plan: 01
type: execute
---

<objective>
Build case study infrastructure: list page displaying all case studies, and dynamic detail page for individual case studies with confidentiality indicators.

Purpose: Create the routing and page structure for case studies before adding components and content.
Output: Working /work page listing case studies, dynamic /work/[slug] pages for each study.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-core-pages/03-02-SUMMARY.md

@src/content/config.ts
@src/layouts/BaseLayout.astro
@src/styles/global.css

**Prior decisions affecting this phase:**
- Content collections defined in Phase 1 (schema ready)
- Design tokens from Phase 2 (typography, colors, spacing)
- Confidentiality levels: public | partial | nda (from PROJECT.md)

**Case study schema (already defined):**
- title, description, date, featured, confidentiality, tags, image
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create case study list page at /work</name>
  <files>src/pages/work/index.astro</files>
  <action>
    Create list page that:

    **Structure:**
    - Page title: "Work" or "Case Studies"
    - Brief intro paragraph
    - Grid or list of case study entries (sorted by date, newest first)

    **For each case study entry:**
    - Title (linked to detail page)
    - Description (one line)
    - Confidentiality badge if not "public"
    - Date (formatted nicely)

    **Implementation:**
    - Use getCollection('case-studies') from astro:content
    - Sort by date descending
    - Use .container and design tokens
    - Simple list layout for now (cards come in Plan 2)

    **Handle empty state:**
    - If no case studies, show placeholder message
    - This is temporary until sample content is added
  </action>
  <verify>
    - npm run dev shows /work page
    - Page renders without errors (even with no content)
    - npm run build succeeds
  </verify>
  <done>Work page exists at /work, lists case studies or shows empty state</done>
</task>

<task type="auto">
  <name>Task 2: Create dynamic case study detail page</name>
  <files>src/pages/work/[...slug].astro</files>
  <action>
    Create dynamic route for individual case studies:

    **Structure:**
    - Full-width hero with title
    - Confidentiality indicator (badge near title)
    - Date and tags below title
    - Main content area with .prose styling
    - Back link to /work

    **Implementation:**
    - Use getCollection and getEntry for static paths
    - Render markdown content with Astro's Content component
    - Apply .prose class to content for typography
    - Style confidentiality badge:
      - public: no badge (default)
      - partial: subtle badge "Limited Detail"
      - nda: badge "NDA Protected"

    **Confidentiality badge styling:**
    - Small, inline badge near title
    - Muted colors (not alarming)
    - partial: --color-text-muted background
    - nda: slightly more prominent but still subtle
  </action>
  <verify>
    - Dynamic route pattern works
    - npm run build succeeds
    - Ready to render case studies when content added
  </verify>
  <done>Detail page template ready at /work/[slug], confidentiality badges styled</done>
</task>

<task type="auto">
  <name>Task 3: Add sample case study for testing</name>
  <files>src/content/case-studies/sample-project.md</files>
  <action>
    Create one sample case study to verify the system works:

    **Frontmatter:**
    ```yaml
    ---
    title: "Sample Project: AI Dashboard"
    description: "A placeholder case study demonstrating the content structure and layout."
    date: 2024-06-15
    featured: true
    confidentiality: partial
    tags: ["AI", "Dashboard", "Product Design"]
    ---
    ```

    **Content:**
    - Brief overview section
    - Problem/Challenge section (placeholder text)
    - Approach section (placeholder text)
    - Outcome section (placeholder text)
    - Include markdown formatting: headers, paragraphs, maybe a list

    **Purpose:**
    - Proves the content collection works
    - Shows typography and layout
    - Demonstrates confidentiality badge
    - Will be replaced with real content later
  </action>
  <verify>
    - /work shows the sample case study in list
    - /work/sample-project loads and renders correctly
    - Confidentiality badge shows "Limited Detail"
    - npm run build succeeds
  </verify>
  <done>Sample case study visible on /work and readable at /work/sample-project</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] /work page lists case studies
- [ ] /work/sample-project renders with styled content
- [ ] Confidentiality badge visible for "partial" content
- [ ] .prose styling applied to case study content
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Case study routing infrastructure ready
- Sample content proves the system works
</success_criteria>

<output>
After completion, create `.planning/phases/04-case-studies/04-01-SUMMARY.md`:

# Phase 4 Plan 1: Case Study Infrastructure Summary

**[Substantive one-liner about what was built]**

## Accomplishments
- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified
- `path/to/file` - Description

## Decisions Made
[Key decisions and rationale, or "None"]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Ready for 04-02-PLAN.md (cards + homepage integration)
</output>
