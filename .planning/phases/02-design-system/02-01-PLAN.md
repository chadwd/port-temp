---
phase: 02-design-system
plan: 01
type: execute
---

<objective>
Create complete design token system with refined color palette, typography, and utility classes.

Purpose: Establish the visual language that all pages and components will use. The design should feel calm, confident, minimal, and editorial.
Output: Refined global.css with production-ready design tokens, typography scale, and utility classes.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@src/styles/global.css

**Prior decisions affecting this phase:**
- Adaptive color mode (system-aware via prefers-color-scheme)
- CSS custom properties pattern established in Phase 1
- Placeholder values exist - need refinement

**Design direction from PROJECT.md:**

Color palette personality:
- Calm authority, depth, long-term thinking
- Systems thinker energy â€” reliable, structured, quietly powerful
- Engineered, not decorated
- Grounded, direct, no fluff
- Mentorship, empathy, approachability

Think: deep neutrals, subtle warmth, restrained accent. Not cold or corporate. Not trendy or flashy.

Typography:
- Editorial quality
- Strong hierarchy
- Generous whitespace
- Easy to read at length
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define refined color palette</name>
  <files>src/styles/global.css</files>
  <action>
    Replace placeholder colors with a refined palette that evokes the design personality.

    **Light mode palette:**
    - Background: Warm off-white (not pure white, not gray) - something like #FAF9F7
    - Text: Deep warm charcoal (not pure black) - something like #1C1917
    - Text muted: Warm gray for secondary text - something like #78716C
    - Accent: Deep teal or slate blue (not bright, not corporate blue) - something like #334155 or #0F766E
    - Border: Subtle warm gray - something like #E7E5E4

    **Dark mode palette:**
    - Background: Deep warm black (not pure black) - something like #0C0A09
    - Text: Warm off-white - something like #FAFAF9
    - Text muted: Warm gray - something like #A8A29E
    - Accent: Lighter version of light mode accent
    - Border: Subtle warm dark gray - something like #292524

    **Additional semantic colors:**
    - --color-surface: Slightly elevated surface (cards, etc.)
    - --color-surface-hover: Hover state for interactive surfaces

    The palette should feel warm, grounded, and professional - not cold/corporate and not trendy.
  </action>
  <verify>
    - CSS variables defined in :root
    - Dark mode media query updates variables correctly
    - No hardcoded colors outside of :root definitions
  </verify>
  <done>Color palette defined with semantic naming, light/dark mode variants working</done>
</task>

<task type="auto">
  <name>Task 2: Set up typography system</name>
  <files>src/styles/global.css</files>
  <action>
    Create a typographic scale and font stack for editorial quality reading.

    **Font stacks:**
    - Use system fonts for now (performant, no external requests)
    - Sans: system-ui stack for UI elements
    - Serif: Georgia/system serif for body text if desired, or keep sans
    - Mono: SF Mono/Menlo for code

    **Type scale (using clamp for fluid sizing):**
    - --text-xs: 0.75rem (12px)
    - --text-sm: 0.875rem (14px)
    - --text-base: 1rem (16px)
    - --text-lg: 1.125rem (18px)
    - --text-xl: 1.25rem (20px)
    - --text-2xl: 1.5rem (24px)
    - --text-3xl: 1.875rem (30px)
    - --text-4xl: 2.25rem (36px)
    - --text-5xl: clamp(2.5rem, 5vw, 3rem) (40-48px, fluid)

    **Line heights:**
    - --leading-tight: 1.25
    - --leading-snug: 1.375
    - --leading-normal: 1.5
    - --leading-relaxed: 1.625
    - --leading-loose: 2

    **Font weights:**
    - --font-normal: 400
    - --font-medium: 500
    - --font-semibold: 600
    - --font-bold: 700

    **Letter spacing:**
    - --tracking-tight: -0.025em
    - --tracking-normal: 0
    - --tracking-wide: 0.025em

    Add base typography styles:
    - html: font-size 100% (respects user preference)
    - body: use --text-base, --leading-relaxed
    - h1-h6: define sizes, weights, margins
    - p: add margin-bottom for prose flow
  </action>
  <verify>
    - Typography variables defined
    - Heading styles (h1-h6) have appropriate hierarchy
    - Body text is readable (16px base, 1.5+ line height)
  </verify>
  <done>Typography system complete with scale, weights, and base element styles</done>
</task>

<task type="auto">
  <name>Task 3: Create utility classes and prose styles</name>
  <files>src/styles/global.css</files>
  <action>
    Add utility classes for common patterns and prose styling for markdown content.

    **Layout utilities:**
    - .container: max-width with padding, centered
    - .prose: styles for markdown content (headings, paragraphs, lists, links, code, blockquotes)

    **Spacing utilities (optional, minimal set):**
    - Only if needed, keep minimal - Astro components handle most layout

    **Prose styles (for markdown content):**
    ```css
    .prose {
      max-width: var(--max-width-content);
    }
    .prose h1, .prose h2, .prose h3, .prose h4 { ... }
    .prose p { margin-bottom: 1.5em; }
    .prose ul, .prose ol { margin-left: 1.5em; margin-bottom: 1.5em; }
    .prose li { margin-bottom: 0.5em; }
    .prose blockquote { border-left, padding, italic }
    .prose code { background, padding, border-radius }
    .prose pre { background, padding, overflow-x }
    .prose img { margin: 2em 0; }
    .prose a { color accent, underline on hover }
    ```

    **Focus states for accessibility:**
    - :focus-visible outline style (visible, high contrast)

    **Transition defaults:**
    - --transition-fast: 150ms ease
    - --transition-base: 200ms ease
    - Add transition to interactive elements (links, buttons)

    Keep utilities minimal - this is not Tailwind, just essential helpers.
  </action>
  <verify>
    - .container class works
    - .prose class styles markdown content correctly
    - Focus states are visible and accessible
    - No unused utilities (keep it minimal)
  </verify>
  <done>Utility classes and prose styles complete, ready for page components</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Color palette feels warm, grounded, professional (not cold/corporate)
- [ ] Typography has clear hierarchy (h1 > h2 > h3 > body)
- [ ] Dark mode switches correctly via prefers-color-scheme
- [ ] Prose styles ready for markdown content
- [ ] Focus states visible for accessibility
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Design tokens are production-ready (not placeholders)
- Ready for Phase 3 (Core Pages)
</success_criteria>

<output>
After completion, create `.planning/phases/02-design-system/02-01-SUMMARY.md`:

# Phase 2 Plan 1: Design System Summary

**[Substantive one-liner about what was built]**

## Accomplishments
- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified
- `path/to/file` - Description

## Decisions Made
[Key decisions and rationale, or "None"]

## Issues Encountered
[Problems and resolutions, or "None"]

## Next Step
Phase complete, ready for Phase 3: Core Pages
</output>
