---
phase: 11-documentation
plan: 2
type: execute
---

<objective>
Create CLAUDE.md for AI assistants to accelerate future development.

Purpose: Provide AI coding assistants with essential context about codebase structure, conventions, and patterns. This enables faster, more accurate assistance without lengthy discovery.
Output: CLAUDE.md in project root with comprehensive codebase guide for AI collaboration
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@README.md
@package.json
@astro.config.mjs
@src/content/config.ts
@src/styles/global.css

**Prior context:**
- README.md completed in 11-01 (human-focused documentation)
- Image structure reorganized to /public/images/{collection}/{slug}/
- All images use absolute paths, consistent naming (hero.png, image-01.png)
- Lighthouse 100/100 across all metrics
- WCAG AA accessible, View Transitions enabled

**Codebase to document:**
- Astro 5.16 with TypeScript
- Content collections (case-studies, writing) with z.string() for images
- Design system with CSS custom properties
- /public/images/ for all images
- GitHub Pages deployment
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CLAUDE.md with project overview and tech stack</name>
  <files>CLAUDE.md</files>
  <action>
Create CLAUDE.md with these sections:

**1. Project Overview:**
- What: Content-first portfolio for senior product designer
- Stack: Astro 5.16, TypeScript, GitHub Pages
- Key principles: Performance (100/100 Lighthouse), accessibility (WCAG AA), markdown-driven

**2. Tech Stack:**
- Framework: Astro 5.16 (static site generation)
- Language: TypeScript
- Styling: CSS custom properties (no Tailwind, no CSS-in-JS)
- Content: Markdown with frontmatter validation
- Deployment: GitHub Pages via GitHub Actions
- Images: All in /public/images/ (no optimization libraries, just standard img tags)

**3. Project Structure:**
```
src/
├── components/        # Reusable Astro components
├── content/          # Markdown collections (case-studies, writing)
├── layouts/          # Page layouts
├── pages/            # Routes
├── scripts/          # Client-side TypeScript
└── styles/           # Global CSS

public/images/        # ALL images (organized by collection/slug)
```

**4. Key Files:**
- `src/content/config.ts` - Content collection schemas
- `src/styles/global.css` - Design tokens (colors, typography, spacing)
- `astro.config.mjs` - Astro configuration
- `.github/workflows/deploy.yml` - Deployment workflow
  </action>
  <verify>CLAUDE.md exists, contains all 4 sections, markdown renders correctly</verify>
  <done>CLAUDE.md created with project overview and tech stack</done>
</task>

<task type="auto">
  <name>Task 2: Document content patterns and image workflow</name>
  <files>CLAUDE.md</files>
  <action>
Add to CLAUDE.md:

**5. Content Management:**

**Adding case studies:**
```bash
# 1. Create markdown file
src/content/case-studies/project-name.md

# 2. Create image directory
mkdir public/images/case-studies/project-name

# 3. Add images
public/images/case-studies/project-name/hero.png        # 1600×900 (16:9)
public/images/case-studies/project-name/image-01.png   # Inline images

# 4. Reference in markdown
---
coverImage: /images/case-studies/project-name/hero.png
---
![Description](/images/case-studies/project-name/image-01.png)
```

**Schema (src/content/config.ts):**
- Collections: case-studies, writing
- Images: z.string() (NOT image() helper - we use /public paths)
- Case studies: title, description, date, featured, confidentiality, tags, coverImage
- Writing: title, description, date, tags, coverImage

**Image workflow (CRITICAL):**
- ALL images in /public/images/{collection}/{slug}/
- Use absolute paths: /images/case-studies/my-project/hero.png
- NOT relative paths (./images/...) - these don't work with Astro content collections
- Naming: hero.png for covers, image-01.png, image-02.png for inline
- No image optimization pipeline - just standard img tags

**6. Design System:**

**Colors (src/styles/global.css):**
- Adaptive light/dark mode via prefers-color-scheme
- Warm neutral palette with slate blue accent
- CSS custom properties: --color-text, --color-accent, --color-surface, etc.

**Typography:**
- System font stack (Inter, -apple-system, SF Pro, Segoe UI)
- Fluid type scale with clamp()
- Editorial hierarchy

**Layout:**
- Responsive: mobile-first, 768px breakpoint
- Generous whitespace
- Content-first design
  </action>
  <verify>CLAUDE.md contains content management and design system sections</verify>
  <done>Content patterns and workflows documented</done>
</task>

<task type="auto">
  <name>Task 3: Add AI collaboration guidelines and conventions</name>
  <files>CLAUDE.md</files>
  <action>
Add to CLAUDE.md:

**7. Code Conventions:**

**Components:**
- Astro components (.astro files) in src/components/
- TypeScript interfaces defined inline
- Props typing required
- No JSX - use Astro syntax

**Styling:**
- Scoped styles in <style> tags within .astro files
- Global tokens in src/styles/global.css
- No inline styles
- No utility classes - semantic CSS only

**Content collections:**
- Schema in src/content/config.ts
- Markdown files in src/content/{collection}/
- Images referenced with absolute paths from /public

**8. Common Tasks:**

**Add a new case study:**
1. Create src/content/case-studies/project-name.md with frontmatter
2. mkdir public/images/case-studies/project-name
3. Add hero.png (1600×900) and inline images
4. Reference with /images/case-studies/project-name/hero.png

**Modify design tokens:**
Edit src/styles/global.css :root variables

**Add a new page:**
Create src/pages/page-name.astro (uses BaseLayout)

**Update navigation:**
Edit src/components/Header.astro

**9. Testing & Verification:**

**Build check:**
```bash
npm run build  # Must succeed with no errors
```

**Development:**
```bash
npm run dev    # Local server at :4321
```

**Type checking:**
```bash
npm run astro check  # Must pass
```

**10. Performance & Accessibility:**

**Must maintain:**
- Lighthouse 100/100 (all metrics)
- WCAG AA compliance
- No runtime JavaScript framework overhead
- Fast page loads (<1s)

**Key features:**
- View Transitions API (smooth navigation)
- Reduced motion support
- Keyboard navigation
- Screen reader compatible
- Image viewer modal (full-screen, keyboard accessible)

**11. Deployment:**

**Automatic:**
- Push to main → GitHub Actions → GitHub Pages
- Live at: https://chaddunbar.com
- Workflow: .github/workflows/deploy.yml

**Manual:**
```bash
npm run build  # Output to dist/
```

**12. For AI Assistants:**

**When adding content:**
- Images MUST go in /public/images/{collection}/{slug}/
- Use absolute paths (/images/...) NOT relative (./images/...)
- Follow naming: hero.png, image-01.png, image-02.png

**When modifying code:**
- Maintain TypeScript typing
- Keep components simple (no over-engineering)
- Preserve accessibility features
- Test builds before committing

**When troubleshooting:**
- Check image paths (common issue: relative vs absolute)
- Verify schema matches content (src/content/config.ts)
- Run npm run astro check for type errors

**Project philosophy:**
- Content is the hero
- Minimal, editorial aesthetic
- Performance and accessibility first
- Simple to extend via markdown
- No unnecessary complexity
  </action>
  <verify>CLAUDE.md contains conventions, common tasks, and AI guidelines sections</verify>
  <done>Complete CLAUDE.md with all 12 sections, ready for AI collaboration</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] CLAUDE.md exists in project root
- [ ] All 12 sections present and complete
- [ ] Markdown formatting renders correctly
- [ ] Code examples use correct syntax
- [ ] Image workflow clearly explained (absolute paths, /public location)
- [ ] No placeholder content
</verification>

<success_criteria>
- CLAUDE.md created with comprehensive AI collaboration guide
- All sections complete: overview, stack, structure, files, content management, design system, conventions, tasks, testing, performance, deployment, AI guidelines
- Clear guidance on image workflow (/public/images/, absolute paths)
- AI assistants can understand codebase without lengthy discovery
- No errors or missing information
</success_criteria>

<output>
After completion, create `.planning/phases/11-documentation/11-02-SUMMARY.md`:

# Phase 11 Plan 2: CLAUDE.md Summary

**[One-liner describing what shipped]**

## Accomplishments

- Created comprehensive CLAUDE.md for AI collaboration
- Documented tech stack, project structure, and key conventions
- Explained content management workflow and image organization
- Added AI-specific guidelines for common tasks

## Files Created/Modified

- `CLAUDE.md` - Complete AI collaboration documentation (12 sections)

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 11 complete, ready for next phase
</output>
